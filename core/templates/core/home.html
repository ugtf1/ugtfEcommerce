{% extends "core/base.html" %}
{% load static %}
{% block content %}

<style>
  /* Fullscreen hero */
  #hero {
    height: 100vh;
  }
  #hero .carousel-item {
    height: 100vh;
  }
  #hero .carousel-item img {
    object-fit: cover;
    width: 100%;
    height: 100%;
  }
  #hero .carousel-caption {
    background: rgba(0,0,0,0.4);
    padding: 4rem 4rem;
    border-radius: .5rem;
  }
</style>

<!-- Fullscreen hero outside container -->
<div id="hero" class="carousel slide mb-4" data-bs-ride="carousel">
  <div class="carousel-inner">
    <div class="carousel-item active">
      <img src="{% static 'core/img/hero1.jpg' %}" class="d-block w-100" alt="">
      <div class="carousel-caption">
        <h3>Discover premium picks</h3>
        <p>Handpicked products for you</p>
      </div>
    </div>
    <div class="carousel-item">
      <img src="{% static 'core/img/hero2.jpg' %}" class="d-block w-100" alt="">
      <div class="carousel-caption">
        <h3>Shop by category</h3>
        <p>Find exactly what you need</p>
      </div>
    </div>
  </div>
  <!-- Optional controls -->
  <button class="carousel-control-prev" type="button" data-bs-target="#hero" data-bs-slide="prev">
    <span class="carousel-control-prev-icon"></span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#hero" data-bs-slide="next">
    <span class="carousel-control-next-icon"></span>
  </button>
</div>

<!-- Rest of page content -->
<div class="container mt-5">
  <h4 class="mb-3">Latest products</h4>
  <div class="row">
    {% for p in products %}
      <div class="col-6 col-md-3 mb-4">
        <div class="card h-100">
          <img src="{{ p.thumbnail.url }}" class="card-img-top" alt="{{ p.name }}">
          <div class="card-body">
            <h6 class="card-title">{{ p.name }}</h6>
            <p class="card-text">${{ p.price }}</p>
            <a href="{% url 'core:product_detail' p.slug %}" class="btn btn-outline-dark btn-sm">View</a>
            <button class="btn btn-warning btn-sm add-to-cart" data-id="{{ p.id }}">Add to cart</button>
          </div>
        </div>
      </div>
    {% empty %}
      <p>No products yet.</p>
    {% endfor %}
  </div>
</div>
{% endblock %}